# =============================================================================
# TMux Main Configuration File
# =============================================================================
# This is the main entry point for tmux configuration.
# All settings are organized into modular files for better maintainability.

# =============================================================================
# Core Configuration Modules
# =============================================================================

# Performance settings (escape-time, history-limit, etc.)
source-file ~/.config/tmux/config/performance.conf

# Terminal configuration (colors, terminal overrides)
source-file ~/.config/tmux/config/terminal.conf

# Window and pane management settings
source-file ~/.config/tmux/config/windows.conf

# Title bar configuration
source-file ~/.config/tmux/config/title.conf

# Mouse and keyboard input settings
source-file ~/.config/tmux/config/input.conf

# Activity monitoring and bell settings
source-file ~/.config/tmux/config/activity.conf

# Base settings (focus-events, clipboard, sessions)
source-file ~/.config/tmux/config/base.conf

# =============================================================================
# Keybindings
# =============================================================================

# All keybindings and shortcuts
source-file ~/.config/tmux/config/keybindings.conf

# =============================================================================
# Copy Mode
# =============================================================================

# Copy mode configuration (switch mode inside copy-mode.conf)
source-file ~/.config/tmux/config/copy-mode.conf

# =============================================================================
# Plugins (TPM - Tmux Plugin Manager)
# =============================================================================

# Set XDG-compliant plugin path
set-environment -g TMUX_PLUGIN_MANAGER_PATH '~/.local/share/tmux/plugins'

# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-resurrect'

# tmux-resurrect settings
set -g @resurrect-capture-pane-contents 'on'
set -g @resurrect-strategy-nvim 'session'
set -g @resurrect-dir '~/.local/share/tmux/resurrect'
# Remap save/restore to avoid conflict with C-s (copy-mode search) and C-r (copy-mode search-backward)
set -g @resurrect-save 'M-s'
set -g @resurrect-restore 'M-r'

# =============================================================================
# Theme / Status Bar
# =============================================================================

# Visual theme and status bar configuration
source-file ~/.config/tmux/themes/status-bar-gruvbox-dark.conf

# =============================================================================
# Available Themes (uncomment to switch)
# =============================================================================
# source-file ~/.config/tmux/themes/status-bar-gruvbox-light.conf
# source-file ~/.config/tmux/themes/status-bar-nord.conf
# source-file ~/.config/tmux/themes/status-bar-tokyo-night.conf
# source-file ~/.config/tmux/themes/status-bar-azure-breeze.conf
# source-file ~/.config/tmux/themes/status-bar-charcoal.conf

# =============================================================================
# Initialize TPM (keep this line at the very bottom of tmux.conf)
# =============================================================================
run '~/.local/share/tmux/plugins/tpm/tpm'
