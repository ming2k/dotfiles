# =======================================================================
# TMux Keybindings Configuration Module
# =======================================================================

# -----------------------------------------------------------------------------
# Prefix Key Configuration
# -----------------------------------------------------------------------------
# Default prefix is C-b, uncomment to change to C-Space
# unbind-key -T root C-b
# set -g prefix C-Space
# bind C-Space send-prefix

# -----------------------------------------------------------------------------
# Pane Splitting
# -----------------------------------------------------------------------------
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"

# -----------------------------------------------------------------------------
# Pane Management
# -----------------------------------------------------------------------------
bind X kill-pane -a

# -----------------------------------------------------------------------------
# Window Creation and Destruction
# -----------------------------------------------------------------------------
# Default: prefix c creates new window
# bind c new-window -c "#{pane_current_path}"
bind C-t new-window -c "#{pane_current_path}"
bind C-w kill-window
bind & confirm-before -p "kill-window #W? (y/n)" kill-window

# -----------------------------------------------------------------------------
# Window Navigation
# -----------------------------------------------------------------------------
bind Tab last-window

# -----------------------------------------------------------------------------
# Window Movement
# -----------------------------------------------------------------------------
bind P swap-window -t -1\; select-window -t -1
bind N swap-window -t +1\; select-window -t +1

# -----------------------------------------------------------------------------
# Layout Management
# -----------------------------------------------------------------------------
unbind Space
bind Space next-layout
bind C-Space select-layout -o

bind M-1 select-layout even-horizontal
bind M-2 select-layout even-vertical
bind M-3 select-layout main-horizontal
bind M-4 select-layout main-vertical
bind M-5 select-layout tiled

bind = select-layout tiled
bind + select-layout main-horizontal

# -----------------------------------------------------------------------------
# Pane Synchronization
# -----------------------------------------------------------------------------
bind S setw synchronize-panes

# -----------------------------------------------------------------------------
# Session Management
# -----------------------------------------------------------------------------
bind s choose-tree -Zs
bind S new-session

# -----------------------------------------------------------------------------
# Configuration and Utility
# -----------------------------------------------------------------------------
bind r source-file ~/.config/tmux/tmux.conf \; display-message "Config reloaded!"
bind C-l send-keys C-l \; clear-history

